(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{1243:e=>{e.exports={block_dveri_kupe__container:"__1block-dveri-kupe_block_dveri_kupe__container__EZub6",main__info:"__1block-dveri-kupe_main__info___fHf_",main__title:"__1block-dveri-kupe_main__title__RcIDb",main__text:"__1block-dveri-kupe_main__text__L2LRr",main__info_2:"__1block-dveri-kupe_main__info_2__4_qEn"}},3157:(e,t,n)=>{Promise.resolve().then(n.bind(n,5517)),Promise.resolve().then(n.t.bind(n,1243,23)),Promise.resolve().then(n.t.bind(n,8337,23)),Promise.resolve().then(n.t.bind(n,6899,23)),Promise.resolve().then(n.bind(n,9394))},3424:e=>{e.exports={button__container:"button-origin_button__container__qGVg2",button__link:"button-origin_button__link__0iycE",ring:"button-origin_ring__3fRDJ"}},3463:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var r=n(5155);n(8173);var _=n(3424),i=n.n(_),o=n(6643);let l=e=>{let{text:t="Подробнее",width:n="calc(7.917vw + 12px)",height:_="calc(60px + 12px)",href:l,type:c="button",onClick:s}=e;return l?(0,r.jsx)("div",{className:"".concat(i().button__container," ").concat(i().className),children:(0,r.jsx)("a",{href:"".concat(o.J).concat(l),className:i().button__link,children:(0,r.jsx)("button",{type:c,style:{minWidth:n,minHeight:_},children:t})})}):(0,r.jsx)("div",{className:"".concat(i().button__container," ").concat(i().className),children:(0,r.jsx)("button",{type:c,style:{minWidth:n,minHeight:_},onClick:s,children:t})})}},5517:(e,t,n)=>{"use strict";n.d(t,{Form:()=>c});var r=n(5155),_=n(3463),i=n(7350),o=n.n(i),l=n(2115);let c=()=>{let[e,t]=(0,l.useState)(0),[n,i]=(0,l.useState)(null),[c,s]=(0,l.useState)(!1),[a,m]=(0,l.useState)({name:"",email:"",phone:"",comment:""}),u=(0,l.useRef)(null),f=(0,l.useRef)(null);(0,l.useEffect)(()=>{f.current=new DataTransfer},[]);let d=e=>{let{name:t,value:n}=e.target;if("phone"===t){let e=n.replace(/\D/g,""),t="+7 ";e.length>1&&(t+="("+e.slice(1,4)),e.length>=4&&(t+=") "+e.slice(4,7)),e.length>=7&&(t+="-"+e.slice(7,9)),e.length>=9&&(t+="-"+e.slice(9,11)),m(e=>({...e,phone:t}))}else m(e=>({...e,[t]:n}))},p=async e=>{if(e.preventDefault(),!f.current)return;let t=new FormData;t.append("name",a.name),t.append("email",a.email),t.append("phone",a.phone),t.append("comment",a.comment);for(let e=0;e<f.current.files.length;e++)t.append("files",f.current.files[e]);try{if(console.log(t),(await fetch("/api/send-email",{method:"POST",body:t})).ok)alert("Заявка успешно отправлена!"),m({name:"",email:"",phone:"",comment:""}),h(),s(!1);else throw Error("Ошибка при отправке формы")}catch(e){i("Произошла ошибка при отправке формы"),console.error("Error:",e)}},h=()=>{f.current&&(f.current=new DataTransfer,t(0),i(null),u.current&&(u.current.files=f.current.files))};return(0,r.jsxs)("div",{className:o().form__container,children:[(0,r.jsx)("div",{className:o().form__title,children:(0,r.jsx)("h2",{children:"Оставьте заявку на расчет"})}),(0,r.jsx)("section",{className:o().form__blocks,children:(0,r.jsx)("div",{className:o().form__items,children:(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsxs)("section",{className:o().form__info,children:[(0,r.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"ИМЯ",value:a.name,onChange:d,required:!0}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"E-MAIL",value:a.email,onChange:d,required:!0}),(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",placeholder:"ТЕЛЕФОН",value:a.phone,onChange:d,required:!0}),(0,r.jsxs)("div",{className:o().form_bottom,children:[(0,r.jsx)("textarea",{type:"textarea",id:"comment",name:"comment",placeholder:"ВАШ ВОПРОС",value:a.comment,onChange:d}),(0,r.jsx)("div",{className:o().input_file_row,children:(0,r.jsxs)("div",{className:o().file_input_container,children:[(0,r.jsxs)("label",{className:o().input_file,children:[(0,r.jsx)("input",{type:"file",name:"file[]",multiple:!0,onChange:e=>{if(!f.current)return;let n=Array.from(e.target.files);if(i(null),f.current.files.length+n.length>4){i("Максимальное количество файлов - 4");return}for(let e of n)if(e.size>0x3200000){i("Каждый файл должен быть не более 50 МБ");return}n.forEach(e=>{f.current.items.add(e)}),t(f.current.files.length),u.current&&(u.current.files=f.current.files)},ref:u}),(0,r.jsx)("span",{children:e>0?"".concat(e," файл(ов)"):"Выберите файл"})]}),e>0&&(0,r.jsx)("button",{type:"button",onClick:h,className:o().clear_files_button,children:"x"})]})}),(0,r.jsx)("div",{className:o().file_requirements,children:"до 4 файлов, до 50 мб"})]}),(0,r.jsxs)("div",{className:o().form_politics,children:[(0,r.jsx)("input",{type:"checkbox",id:"political",name:"political",checked:c,onChange:e=>s(e.target.checked),required:!0}),(0,r.jsx)("label",{htmlFor:"political",children:"Я соглашаюсь с политикой обработки персональных данных"})]})]}),(0,r.jsxs)("div",{className:o().form__button,children:[(0,r.jsx)(_.K,{text:"Отправить",type:"submit"}),n&&(0,r.jsx)("div",{className:o().error_message,children:n})]})]})})})]})}},5777:e=>{e.exports={button__container:"button-gradient_button__container___lKBo"}},6643:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});let r=n(2818).env.NEXT_PUBLIC_BASE_PATH||""},6899:e=>{e.exports={block_types_dveri_kupe__container:"block-types_block_types_dveri_kupe__container__CVYcb",bottom__title:"block-types_bottom__title__YMBxJ",form:"block-types_form__t4wCR",cards:"block-types_cards__Urq9t",card:"block-types_card__l2Pfv",card__container:"block-types_card__container__f0pON",cards__info:"block-types_cards__info__S1puk",cards_image:"block-types_cards_image__FQqjq"}},7350:e=>{e.exports={form__container:"form_form__container__IfGHS",form__title:"form_form__title__PyTFW",form__blocks:"form_form__blocks__C_BSS",form__items:"form_form__items__ewxUu",form__info:"form_form__info__Wyp5u",form_politics:"form_form_politics__49L9g",form_bottom:"form_form_bottom__E3qLA",error_message:"form_error_message__cp3rw",file_requirements:"form_file_requirements__bRifr",input_file_row:"form_input_file_row__oPLRs",file_input_container:"form_file_input_container__yPZ2V",clear_files_button:"form_clear_files_button__C_6sq",input_file:"form_input_file__efX7h",form__button:"form_form__button__vaYj7"}},8337:e=>{e.exports={dverikupe__main__container:"dveri-kupe_dverikupe__main__container__yN2dA"}},9394:(e,t,n)=>{"use strict";n.d(t,{Button_Gradient:()=>c});var r=n(5155),_=n(8173),i=n.n(_),o=n(5777),l=n.n(o);let c=e=>{let{text:t="Оставить заявку",width:n="11.667vw",height:_="6.042vh",href:o="/",targetId:c=null,target:s="_self",rel:a="",onClick:m}=e,u=e=>{if(m){m(e);return}c&&(e.preventDefault(),setTimeout(()=>{let e=document.getElementById(c);if(e){let t=e.getBoundingClientRect().top+window.scrollY+-190;window.scrollTo({top:t,behavior:"smooth"})}},200))};return(0,r.jsx)("div",{className:"".concat(l().button__container," ").concat(l().className),children:m?(0,r.jsx)("button",{style:{width:n,height:_},onClick:u,children:t}):(0,r.jsx)(i(),{href:o,scroll:!1,passHref:!0,legacyBehavior:!0,target:s,rel:a,children:(0,r.jsx)("button",{style:{width:n,height:_},onClick:u,children:t})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[97,213,441,587,358],()=>t(3157)),_N_E=e.O()}]);